<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="x-icon" href="../icon.png">
    <title>Tsonga Tunes</title>
    <link rel="stylesheet" href="../../css\style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        body {
            background-color: rgb(25, 4, 63);
            background-size: cover;
            background-repeat: no-repeat;
            width: 100%;
            height: 100%;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="music-player">
            <nav>
                <div class="circle">
                    <div><a href="../../Home.html"><i class="fa-solid fa-angle-left"></i></a></div>
                </div>
                <div class="circle">
                    <ul class="sidebar">
                        <div class="header sidebar-header">
                            <h2>Menu</h2>
                            <div class="track" onclick="closeSidebar()"><i class="fa-solid fa-x"></i></div>
                        </div>
                        <li><i class="fa-solid fa-plus"></i>Add to playlist</li>
                        <li><a href="About.html"><i class="fa-solid fa-user"></i> Artist</a></li>
                        <li><i class="fa-solid fa-download"></i> Download</li>
                        <li><i class="fa-regular fa-heart"></i> Like</li>
                        <li class="track-list" onclick="openTracklist()"><i class="fa-solid fa-ellipsis-vertical"></i> List</li>
                        <li><i class="fa-regular fa-file-lines"></i> Lyrics</li>
                        <li><i class="fa-solid fa-share-nodes"></i> Share</li>
                    </ul>
                    <div class="menu-icon" onclick="showSidebar()"><i class="fa-solid fa-bars"></i></div>
                </div>
            </nav>
            <div class="Tracklist">
                <div class="header tracklist-header">
                    <h2>Tracklist</h2>
                    <div class="track" onclick="closeTracklist()"><i class="fa-solid fa-x"></i></div>
                </div>
                <div class="tracklist-div">
                    <div class="tlist">
                        <!--<span class="somg-index">1</span>
                        <p class="single-song">Song one</p>-->
                    </div>
                </div>
           

            </div>
            <img src="Thumbnail.png" class="song-img">
            <h1 id="songTitle">Zuva Ra Kwekwe</h1> <!-- Updated to use dynamic song title -->
            <p>Benny Mayengani</p>
            <audio autoplay id="song">
                <source src="Vana Va Nhova/Zuva Ra Kwekwe.mp3" type="audio/mpeg">
            </audio>
            <input type="range" value="0" id="progress">

            <div class="vol">
                <div onclick="mute()"><i class="fa-solid fa-volume-xmark" id="ctrlmute"></i></div>
                <input type="range" value="50" min="0" max="100" id="vol">
            </div>
            
            <div class="controls">
                <div><i class="fa-solid fa-shuffle"></i></div>
                <div onclick="previous()"><i class="fa-solid fa-backward"></i></div>
                <div onclick="playPause()"><i class="fa-solid fa-pause" id="ctrlIcon"></i></div>
                <div onclick="next()"><i class="fa-solid fa-forward"></i></div>
                <div onclick="toggleRepeat()"><i class="fa-solid fa-repeat" id="repeatIcon"></i></div>
            </div>
        </div>
    </div>
    <script src="../../js\Controls.js"></script>
    <script>
        let songs = [
            { src: "Vana Va Nhova/Zuva Ra Kwekwe.mp3", name: "Zuva Ra Kwekwe" },
            { src: "Vana Va Nhova/Mthondolovhani.mp3", name: "Mthondolovhani" },
            { src: "Vana Va Nhova/Vana Va Nhova.mp3", name: "Vana Va Nhova" },
            { src: "Vana Va Nhova/Delile Delile.mp3", name: "Delile Delile" },
            { src: "Vana Va Nhova/Magayisa.mp3", name: "Magayisa" },
            { src: "Vana Va Nhova/Thamu Le Nyoka.mp3", name: "Thamu Le Nyoka" },
            { src: "Vana Va Nhova/Nhlawulo.mp3", name: "Nhlawulo" },
            { src: "Vana Va Nhova/Vutomi Xikata Mani.mp3", name: "Vutomi Xikata Mani" },
            { src: "Vana Va Nhova/Nghupepe Nghupepe.mp3", name: "Nghupepe Nghupepe" },
            { src: "Vana Va Nhova/Bombela.mp3", name: "Bombela" },
            { src: "Vana Va Nhova/Lekwapa.mp3", name: "Lekwapa" },
            { src: "Vana Va Nhova/Mbilu Ya Mina.mp3", name: "Mbilu Ya Mina" },
            { src: "Vana Va Nhova/Malageni.mp3", name: "Malegeni" },
            { src: "Vana Va Nhova/Zuva Ra Kwekwe Addation.mp3", name: "Zuva Ra Kwekwe Addation" },
            
        ];

        pDiv = document.querySelector(".tracklist-div");

        let counter =1;
    function displayTracks(){
    for (let i =0; i <songs.length; i++){
        console.log(songs[i].name);
        let div = document.createElement("div");
        div.classList.add("tlist");
        div.innerHTML=`
        <p class="single-song">${songs[i].name}</p>
        `;
        pDiv.appendChild(div);
    }
    playFromList();
}
    function playFromList() {
        pDiv.addEventListener("click", (e) => {
            if (e.target.classList.contains("single-song")) {
                const songName = e.target.innerHTML;
                const indexNum = songs.findIndex(item => item.name === songName);
                if (indexNum !== -1) {
                    currentIndex = indexNum; // Update the current index
                    updateSong();
                }
            }
        });
    }

    displayTracks();
    playFromList();
    updateSong();
    </script>    
</body>
</html>
